<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task 43.80</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.24/css/dataTables.bootstrap4.min.css">
    <script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.24/js/dataTables.bootstrap4.min.js"></script>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <!--HEADERR-->
        <div class="row">
            <div class="col-12">
                <nav class="navbar navbar-expand-md navbar-light fixed-top nav-fill w-100">
                    <a href="#" class="hover-task navbar-brand text-white font-weight-bold font-italic"><i class="fas fa-drum-steelpan"></i> Pizza 365 !!</a>
                    <div class="collapse navbar-collapse">
                        <ul id="list-item" class="navbar-nav font-weight-bold ml-auto">
                            <li id="hover" class="nav-item">
                                <a href="#" class="nav-link  text-white">Home</a>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="nav-link text-white">Combo</a>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="nav-link text-white">Pizza Type</a>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="nav-link text-white">Gửi đơn hàng</a>
                            </li>
                            <li class="nav-item nav">
                                <button class="btn btn-order font-weight-bold">Order Online</button>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="nav-link text-white"><i class="fas fa-list"></i></a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
        <!--SLIDER-->

        <div id="slider">
            <div class="text-slider">
                <h3 class="text-center font-weight-bold font-italic"><i class="fas fa-pizza-slice"></i>  PIZZA 365 !!! <i class="fas fa-pizza-slice"></i></h3>
                <h5 class="text-center font-weight-bold font-italic">Truly Italian!!<h5>
            </div>
    
            <div id="carousel" class="carousel slide" data-ride="carousel">
                <ol class="carousel-indicators">
                  <li data-target="#carousel" data-slide-to="0" class="active"></li>
                  <li data-target="#carousel" data-slide-to="1"></li>
                  <li data-target="#carousel" data-slide-to="2"></li>
                  <li data-target="#carousel" data-slide-to="3"></li>
                </ol>
                <div class="carousel-inner">
                  <div class="carousel-item active">
                    <img class="img-radius d-block w-100" src="./images/1.jpg" alt="First slide">
                  </div>
                  <div class="carousel-item">
                    <img class="img-radius d-block w-100" src="./images/2.jpg" alt="Second slide">
                  </div>
                  <div class="carousel-item">
                    <img class="img-radius d-block w-100" src="./images/3.jpg" alt="Third slide">
                  </div>
                  <div class="carousel-item">
                    <img class="img-radius d-block w-100" src="./images/4.jpg" alt="Fourth slide">
                  </div>
                </div>
                <a class="carousel-control-prev" href="#carousel" role="button" data-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carousel" role="button" data-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="sr-only">Next</span>
                </a>
              </div>

        </div>


        <!--BODY-->

        <div class="form-contain">
            <div id="body-content">
                <div class="text-slider text-center">
                    <h4 class="text-border text-center font-weight-bold">Tại sao bạn nên chọn mua tại Pizza 365 !!</h4>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-3 border border-warning bg-content-1">
                    <div class="text-content">
                        <h3>Đa dạng</h3>
                        <p>Số lượng pizza đa dạng, có đầy đủ các loại pizza đang hot nhất hiện nay</p>
                    </div>
                </div>
                <div class="col-sm-3 border border-warning bg-content-2">
                    <div class="text-content">
                        <h3>Chất lượng</h3>
                        <p>Nguyên liệu sạch 100%, nguồn gốc xuất sứ rõ ràng, quy trình chế biến đảm bảo vệ sinh an toàn thực phẩm</p>
                    </div>
                </div>
                <div class="col-sm-3 border border-warning bg-content-3">
                    <div class="text-content">
                        <h3>Hương vị</h3>
                        <p>Đảm bảo hương vị ngon, độc đáo, lạ mà bạn chỉ có thể thưởng thức được tại Pizza 365.</p>
                    </div>
                </div>
                <div class="col-sm-3 border border-warning bg-content-4">
                    <div class="text-content">
                        <h3>Dịch vụ</h3>
                        <p>Nhân viên thân thiện, nhà hàng hiện đại. Dịch vụ giao hàng nhanh chóng, chất lượng tân tiến</p>
                    </div>
                </div>
    
            </div>
        </div>

        <div class="form-contain">
            <div class="text-slider text-center">
                <h4 class="text-border text-center font-weight-bold">Chọn size pizza</h4>
                <p class="mt-n2">Chọn combo pizza phù hợp với nhu cầu của bạn</p>
            </div>
    
            <div class="card-deck">
                <div class="card" style="width: 18rem;">
                    <div class="card-header text-center bg-warning">
                        <h4 class="card-title">S (Small)</h4>
                    </div>
                    <div class="card-body text-center">
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">Đường kính <b>20 cm</b></li>
                            <li class="list-group-item">Sườn nướng <b>2</b></li>
                            <li class="list-group-item">Salad <b>200 gram</b></li>
                            <li class="list-group-item">Nước ngọt <b>2</b></li>
                            <h2 class="card-text font-weight-bold">150.000</h2>
                            <p class="card-text">(VND)</p>
                        </ul>
                      <br>
                    </div>
                    <div class="card-footer">
                        <button id="btn-pizza-s" class="btn btn-warning w-100 font-weight-bold">Chọn</button>
                    </div>
                  </div>
                  <div class="card" style="width: 18rem;">
                    <div class="card-header text-center bg-warning">
                        <h4 class="card-title">M (Medium)</h4>
                    </div>
                    <div class="card-body text-center">
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">Đường kính <b>25 cm</b></li>
                            <li class="list-group-item">Sườn nướng <b>4</b></li>
                            <li class="list-group-item">Salad <b>300 gram</b></li>
                            <li class="list-group-item">Nước ngọt <b>3</b></li>
                            <h2 class="card-text font-weight-bold">200.000</h2>
                            <p class="card-text">(VND)</p>
                        </ul>
                      <br>
                    </div>
                    <div class="card-footer">
                        <button id="btn-pizza-m" class="btn btn-warning w-100 font-weight-bold">Chọn</button>
                    </div>
                  </div>
                  <div class="card" style="width: 18rem;">
                    <div class="card-header text-center bg-warning">
                        <h4 class="card-title">L (Large)</h4>
                    </div>
                    <div class="card-body text-center">
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">Đường kính <b>30 cm</b></li>
                            <li class="list-group-item">Sườn nướng <b>8</b></li>
                            <li class="list-group-item">Salad <b>500 gram</b></li>
                            <li class="list-group-item">Nước ngọt <b>4</b></li>
                            <h2 class="card-text font-weight-bold">250.000</h2>
                            <p class="card-text">(VND)</p>
                        </ul>
                      <br>
                    </div>
                    <div class="card-footer">
                        <button id="btn-pizza-l" class="btn btn-warning w-100 font-weight-bold">Chọn</button>
                    </div>
                  </div>
                 
                  
            </div>
    
            <div class="form-contain">
                <div class="text-slider text-center">
                    <h4 class="text-border text-center font-weight-bold">Chọn loại pizza</h4>
                </div>
                <div class="card-deck">
                    <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src="./images/seafood.jpg" alt="Card image cap">
                        <div class="card-body">
                            <h4 class="card-title">OCEAN MANIA</h4>
                            <p class="card-subtitle text-secondary">PIZZA HẢI SẢN XỐT MAYONNAISE</p>
                            <p class="card-text">Xốt cà chua, phô mai Mozzarella, tôm mực, thanh cua và hành tây</p>
                            <button id="btn-pizza-ocean" class="btn btn-warning w-100">Chọn</button>
                        </div>
                      </div>
                      <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src="./images/hawaiian.jpg" alt="Card image cap">
                        <div class="card-body">
                            <h4 class="card-title">HAWAIIAN</h4>
                            <p class="card-subtitle text-secondary">PIZZA JAMBON DỨA KIỂU HAWAII</p>
                            <p class="card-text">Xốt cà chua, phô mai Mozzarella, thịt jambon và thơm</p>
                            <button id="btn-pizza-hawaiian" class="btn btn-warning w-100">Chọn</button>
                        </div>
                      </div>
                      <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src="./images/bacon.jpg" alt="Card image cap">
                        <div class="card-body">
                            <h4 class="card-title">CHESSY CHICKEN BACON</h4>
                            <p class="card-subtitle text-secondary">PIZZA GÀ PHÔ MAI THỊT HEO XÔNG KHÓI</p>
                            <p class="card-text">Xốt phô mai, thịt gà, thịt heo muối, phô mai Mozzarella và cà chua</p>
                            <button id="btn-pizza-bacon" class="btn btn-warning w-100">Chọn</button>
                        </div>
                      </div>
                </div>
            </div>
    
        </div>


        <div class="form-contain">
            <div class="text-slider text-center">
            <h4 class="text-border text-center font-weight-bold">Chọn đồ uống</h4>
        </div>
        <select name="drink" id="select-drink" class="form-control">
            <option value="none">Chọn loại nước uống</option>
            
        </select>
        </div>

        <div class="form-contain">
            <div class="text-slider text-center">
                <h4 class="text-border text-center font-weight-bold">Gửi đơn hàng</h4>
            </div>   
            <form id="form-login">
                <div class="row font-weight-bold">                   
                        <label for="name">Tên :</label>                                  
                        <input type="text" name="name" id="inp-name" class="form-control" placeholder="Nhập tên">                
                </div>
                <div class="row font-weight-bold">                   
                        <label for="name">Email :</label>           
                        <input type="text" name="name" id="inp-email" class="form-control" placeholder="Nhập Email">
                </div>
                <div class="row font-weight-bold">
                        <label for="name">Phone :</label>
                        <input type="text" name="name" id="inp-phone" class="form-control" placeholder="Nhập số điện thoại">
                </div>
                <div class="row font-weight-bold">
                        <label for="name">Địa chỉ :</label>
                        <input type="text" name="name" id="inp-address" class="form-control" placeholder="Nhập địa chỉ">
                </div>
                <div class="row font-weight-bold">
                        <label for="name">Voucher :</label>   
                        <input type="text" name="name" id="inp-voucher" class="form-control" placeholder="Nhập mã voucer (nếu có)">
                </div>
                <div class="row font-weight-bold">
                        <label for="name">Lời nhắn :</label>
                        <input type="text" name="name" id="inp-message" class="form-control" placeholder="Nhập lời nhắn của bạn">
                </div>
                <div class="row">
                    <button id="btn-send-data" class="btn btn-warning w-100 font-weight-bold ">Gửi đơn</button>
                </div>
            </form>
            
        </div>
        
    </div>
    
    <!--FOOTER-->

    <div class="footer bg-footer text-center">
        <div class="contain-footer p-4">
            <h3 class="font-weight-bold mb-n1">Footer</h3>
            <button class="btn btn-color text-white mt-2 mb-2"><i class="fas fa-arrow-up"></i> To the top</button>
            <div class="icon-list  mt-2 mb-2">
               <a href="#" class=""><i class="fab fa-facebook-f"></i></a>
               <a href="#" class=""><i class="fab fa-twitter"></i></a>
               <a href="#" class=""><i class="fab fa-instagram"></i></a>
               <a href="#" class=""><i class="fab fa-pinterest"></i></a>
               <a href="#" class=""><i class="fab fa-pagelines"></i></a>
            </div>
            <div class="font-weight-bold">Powered by DEVCAMP</div>
        </div>
    </div>  


    <!--         MODAL FORM INPUT DATA         -->

    <div>
        <div id="modal-form-input" class="modal fade" tabindex="-1">
            <div class="modal-dialog modal-lg">
                <div class="modal-content p-3">
                    <div class="modal-header bg-info">
                        <h3 class="font-weight-bold text-white text-center">Thông tin đơn hàng</h3>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <label for="fullName">Họ và tên</label>
                            <input type="text" name="fulName" id="inp-modal-name" class="form-control">
                        </div>
                        <div class="row">
                            <label for="fullName">Số điện thoại</label>
                            <input type="text" name="fulName" id="inp-modal-phone" class="form-control">
                        </div>
                        <div class="row">
                            <label for="fullName">Địa chỉ</label>
                            <input type="text" name="fulName" id="inp-modal-address" class="form-control">
                        </div>
                        <div class="row">
                            <label for="fullName">Lời nhắn</label>
                            <input type="text" name="fulName" id="inp-modal-message" class="form-control">
                        </div>
                        <div class="row">
                            <label for="fullName">Mã giảm giá</label>
                            <input type="text" name="fulName" id="inp-modal-voucher" class="form-control">
                        </div>
                        <div class="row">
                            <label for="fullName">Thông tin chi tiết:</label>
                            <textarea name="" id="inp-order-detail" class="form-control" cols="30" rows="4"></textarea>
                            
                    </div>
                    <div class="modal-footer">
                        <div class="row">
                            <button class="btn btn-danger mr-1" data-dismiss="modal">Quay lại</button>
                            <button id="btn-confim-data" class="btn btn-info">Tạo đơn</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div>
        <div id="modal-confirm-data" class="modal fade" tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content p-5 bg-warning ">
                    <div class="modal-body">
                        <h5 class="font-weight-bold">Cám ơn bạn đã đặt đơn hàng tại Pizza 365. Mã đơn hàng của bạn là: </h5>
                    <div class="row">
                        <div class="col-sm-3">
                            <label for="madonhang">Mã đơn hàng</label>
                        </div>
                        <div class="col-sm-9">
                            <input type="text" name="orderid" id="inp-modal-orderid" class="form-control">
                        </div>
                    </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</body>




<script>
    //REGION 1:
    var gObjectPizzaSize = []; //BIẾN DÙNG ĐỂ CHỨA DỮ LIỆU CỦA PIZZA SIZE
    var gObjectPizzaType = []; //BIẾN DÙNG ĐỂ CHỨA LOẠI PIZZA

    var gDiscount = 0;

    var gObjectRequest = {
            kichCo: "",
            duongKinh: "",
            suon: "",
            salad: "",
            loaiPizza: "",
            idVourcher: "",
            idLoaiNuocUong: "",
            soLuongNuoc: "",
            hoTen: "",
            thanhTien: "",
            email: "",
            soDienThoai: "",
            diaChi: "",
            loiNhan: ""
        }


    //REGION 2:
        $(document).ready(function(){
            $("#form-login").submit(function(e){
            e.preventDefault();
        });
            onPageLoading();
        //CỤM BTN CHỌN SIZE PIZZA
        $("#btn-pizza-s").on("click", onBtnSelectPizzaS); //SIZE S
        $("#btn-pizza-m").on("click", onBtnSelectPizzaM); //SIZE M
        $("#btn-pizza-l").on("click", onBtnSelectPizzaL); //SIZE L
        

        //CỤM BTN CHỌN TYPE PIZZA
        $("#btn-pizza-ocean").on("click", onBtnTypePizzaOcean); //PIZZA OCEAN
        $("#btn-pizza-hawaiian").on("click", onBtnTypePizzaHawaiian); //PIZZA HAWAIIAN
        $("#btn-pizza-bacon").on("click", onBtnTypePizzaBacon); //PIZZA BACON

        //BTN GỬI ĐƠN
        $("#btn-send-data").on("click" , onBtnSendDataOrder)
        
        //BTN XÁC NHẬN ĐƠN HÀNG
        $("#btn-confim-data").on("click", onBtnConfirmData)
        });
        


    //REGION 3:

        function onPageLoading(){
            loadDataDrinkToSelect();
    }
//ADD SỰ KIỆN KHI ẤN NÚT CHỌN SIZE S
        function onBtnSelectPizzaS(){
            gObjectPizzaSize = { //KHI ẤN NÚT NÀY, NẠP DỮ LIỆU VÀO BIẾN CHỨA DỮ LIỆU PIZZA SIZE
            kichCo: "S",
            duongKinh: "20",
            suon: "2",
            salad: "200",
            soLuongNuoc: "2",
            thanhTien: "150000",
        }
        console.log(gObjectPizzaSize);
        $("#btn-pizza-s").addClass("btn-success").removeClass("btn-warning"); //THAY ĐỔI CLASS ĐỂ THAY ĐỔI MÀU NÚT
        $("#btn-pizza-m").addClass("btn-warning").removeClass("btn-success");
        $("#btn-pizza-l").addClass("btn-warning").removeClass("btn-success");
    }

//ADD SỰ KIỆN KHI ẤN NÚT CHỌN SIZE M
    function onBtnSelectPizzaM(){  //KHI ẤN NÚT NÀY, NẠP DỮ LIỆU VÀO BIẾN CHỨA DỮ LIỆU PIZZA SIZE
            gObjectPizzaSize = {
            kichCo: "M",
            duongKinh: "25",
            suon: "4",
            salad: "300",
            soLuongNuoc: "3",
            thanhTien: "200000",
        }
        console.log(gObjectPizzaSize);
        $("#btn-pizza-s").addClass("btn-warning").removeClass("btn-success"); //THAY ĐỔI CLASS ĐỂ THAY ĐỔI MÀU NÚT
        $("#btn-pizza-m").addClass("btn-success").removeClass("btn-warning");
        $("#btn-pizza-l").addClass("btn-warning").removeClass("btn-success");
    }

//ADD SỰ KIỆN KHI ẤN NÚT CHỌN SIZE L
    function onBtnSelectPizzaL(){
            gObjectPizzaSize = {  //KHI ẤN NÚT NÀY, NẠP DỮ LIỆU VÀO BIẾN CHỨA DỮ LIỆU PIZZA SIZE
            kichCo: "L",
            duongKinh: "30",
            suon: "8",
            salad: "500",
            soLuongNuoc: "4",
            thanhTien: "250000",
        }
        console.log(gObjectPizzaSize);
        $("#btn-pizza-s").addClass("btn-warning").removeClass("btn-success"); //THAY ĐỔI CLASS ĐỂ THAY ĐỔI MÀU NÚT
        $("#btn-pizza-m").addClass("btn-warning").removeClass("btn-success");
        $("#btn-pizza-l").addClass("btn-success").removeClass("btn-warning");
    }

    //ADD SỰ KIỆN KHI ẤN NÚT PIZZA OCEAN(SEAFOOD)
    function onBtnTypePizzaOcean(){
        gObjectPizzaType = {
            loaiPizza: "Pizza Seafood"
        }
        console.log(gObjectPizzaType);
        $("#btn-pizza-ocean").addClass("btn-success").removeClass("btn-warning"); //THAY ĐỔI CLASS ĐỂ THAY ĐỔI MÀU NÚT
        $("#btn-pizza-hawaiian").addClass("btn-warning").removeClass("btn-success");
        $("#btn-pizza-bacon").addClass("btn-warning").removeClass("btn-success");
    }
    //ADD SỰ KIỆN KHI ẤN NÚT PIZZA HAWAIIAN
    function onBtnTypePizzaHawaiian(){
        gObjectPizzaType = {
            loaiPizza: "Pizza Hawaiian"
        }
        console.log(gObjectPizzaType);
        $("#btn-pizza-ocean").addClass("btn-warning").removeClass("btn-success"); //THAY ĐỔI CLASS ĐỂ THAY ĐỔI MÀU NÚT
        $("#btn-pizza-hawaiian").addClass("btn-success").removeClass("btn-warning");
        $("#btn-pizza-bacon").addClass("btn-warning").removeClass("btn-success");
    }

    //ADD SỰ KIỆN KHI ẤN NÚT PIZZA BACON
    function onBtnTypePizzaBacon(){
        gObjectPizzaType = {
            loaiPizza: "Pizza Bacon"
        }
        console.log(gObjectPizzaType);
        $("#btn-pizza-ocean").addClass("btn-warning").removeClass("btn-success"); //THAY ĐỔI CLASS ĐỂ THAY ĐỔI MÀU NÚT
        $("#btn-pizza-hawaiian").addClass("btn-warning").removeClass("btn-success");
        $("#btn-pizza-bacon").addClass("btn-success").removeClass("btn-warning");
    }

    function onBtnSendDataOrder(){
        
        //LẤY DỮ LIỆU THÔI !!
        getDataObjectUser(gObjectRequest);

        console.log(gObjectRequest);

        //KIỂM TRA DỮ LIỆU TIẾP...
        var vIsValidate = isValidate(gObjectRequest);
        if(vIsValidate){
            //LẤY DISCOUNT DỰA VÀO VOUCHER NHẬP VÀO
            $.ajax({
            url: "http://42.115.221.44:8080/devcamp-voucher-api/voucher_detail/" + gObjectRequest.idVourcher,
            type: "GET",
            dataType: "json",
            async: false,
            success: getDiscountByVoucher,
            error: function(ajaxContext){
                console.log(ajaxContext.responseText);
                // console.log(gDiscount);
            }
        })
            showModalToLoadData(gObjectRequest);
        }
    }
    //ADD SU KIEN ẤN NÚT XÁC NHẬN ĐƠN HÀNG
    function onBtnConfirmData(){
        $("#modal-form-input").modal("hide");

        $.ajax({
            url: "http://42.115.221.44:8080/devcamp-pizza365/orders",
            data: JSON.stringify(gObjectRequest),
            type: "POST",
            contentType: "application/json;charset=UTF-8",
            dataType: "json",
            success: handleLoadOrderIdToModal,
            error: function(ajaxContext){
                console.log(ajaxContext.responseText);
            }
        })

    }

    
    


    //REGION 4:
    //HAM LẤY DỮ LIỆU DATA DRINK
    function loadDataDrinkToSelect(){
        $.ajax({
            url: "http://42.115.221.44:8080/devcamp-pizza365/drinks",
            type: "GET",
            dataType: "json",
            async: true,
            success: updateDrinkList,
            error: function(ajaxContext){
                console.log(ajaxContext.responseText);
            }
        })
    }
    //LOAD DATA DRINK VÀO SELECT
    function updateDrinkList(paramDataDrinkList){
        var vSelectDrink = $("#select-drink");
        for(var bI = 0; bI < paramDataDrinkList.length; bI ++){
            $("<option>", {
                text: paramDataDrinkList[bI].tenNuocUong,
                value: paramDataDrinkList[bI].maNuocUong
            }).appendTo(vSelectDrink);
        }
    }

    function getDataObjectUser(paramDataUserObject){
        //LẤY DỮ LIỆU CỦA PIZZA SIZE ĐÃ CHỌN
        paramDataUserObject.kichCo = gObjectPizzaSize.kichCo;
        paramDataUserObject.duongKinh = gObjectPizzaSize.duongKinh;
        paramDataUserObject.suon = gObjectPizzaSize.suon;
        paramDataUserObject.salad = gObjectPizzaSize.salad;
        paramDataUserObject.soLuongNuoc = gObjectPizzaSize.soLuongNuoc;
        paramDataUserObject.thanhTien = gObjectPizzaSize.thanhTien;

        //LẤY DỮ LIỆU CỦA PIZZA TYPE VÀ LOẠI NƯỚC
        paramDataUserObject.loaiPizza = gObjectPizzaType.loaiPizza;
        paramDataUserObject.idLoaiNuocUong = $("#select-drink").val();

        //LẤY DỮ LIỆU NGƯỜI DÙNG NHẬP
        paramDataUserObject.hoTen = $("#inp-name").val().trim();
        paramDataUserObject.email = $("#inp-email").val().trim();
        paramDataUserObject.soDienThoai = $("#inp-phone").val().trim();
        paramDataUserObject.diaChi = $("#inp-address").val().trim();
        paramDataUserObject.idVourcher = $("#inp-voucher").val().trim();
        paramDataUserObject.loiNhan = $("#inp-message").val().trim();
    }

    function isValidate(paramDataUserObject){
        //KIEM TRA CHỌN PIZZA SIZE ??
        if(paramDataUserObject.kichCo == undefined){
            alert("Vui lòng chọn kích cỡ Pizza..");
            return false;
        }
        //KIEM TRA CHỌN PIZZA TYPE ??
        if(paramDataUserObject.loaiPizza == undefined){
            alert("Vui lòng chọn loại Pizza..");
            return false;
        }
        //KIEM TRA FORM NGUOI DUNG NHAP
        if(paramDataUserObject.hoTen ==""){
            alert("Vui lòng nhập họ tên");
            return false;
        }
        var vMailFormat = /^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;
        if(!paramDataUserObject.email.match(vMailFormat)){
            alert("Email không hợp lệ hoặc đang bị bỏ trống, vui lòng thử lại.");
            return false;
        }
        if(paramDataUserObject.soDienThoai ==""){
            alert("Vui lòng nhập số điện thoại");
            return false;
        }
        if( isNaN ( parseInt (paramDataUserObject.soDienThoai , 10) )  == true ){
            alert("Số điện thoại không hợp lệ");
            return false;
        }
        if(paramDataUserObject.diaChi ==""){
            alert("Vui lòng nhập địa chỉ của bạn");
            return false;
        }
        return true;
        
    }


    function showModalToLoadData(paramDataUserObject){

        loadDataToModalForm(paramDataUserObject);
        
        
        $("#modal-form-input").modal("show");

    }

    function getDiscountByVoucher(paramDiscount){
        // debugger;
        gDiscount = paramDiscount.phanTramGiamGia;
        // console.log(gDiscount);
        return gDiscount;
    }

    function loadDataToModalForm(paramDataUserObject){
        var vPayment = getPayMentWithDiscount(paramDataUserObject);
        console.log(vPayment);

        $("#inp-modal-name").val(paramDataUserObject.hoTen);
        $("#inp-modal-phone").val(paramDataUserObject.soDienThoai);
        $("#inp-modal-address").val(paramDataUserObject.diaChi);
        $("#inp-modal-message").val(paramDataUserObject.loiNhan);
        $("#inp-modal-voucher").val(paramDataUserObject.idVourcher);
        $("#inp-order-detail").html(
            "Xác nhận: " + paramDataUserObject.hoTen + ", " + paramDataUserObject.soDienThoai + ", " + paramDataUserObject.diaChi + "\n" +
            "Menu : " + paramDataUserObject.kichCo + ", sườn nướng " + paramDataUserObject.suon + ", nước " + paramDataUserObject.soLuongNuoc +  ", loại nước uống " + paramDataUserObject.idLoaiNuocUong + "\n" +
            "Loại pizza : " + paramDataUserObject.loaiPizza + ", giá " + paramDataUserObject.thanhTien +" vnđ, Mã giảm giá: " + paramDataUserObject.idVourcher + "\n" +
            "Phải thanh toán : " + vPayment  + "(Giảm giá " + gDiscount + " %)"
            );

    }

    function getPayMentWithDiscount(paramDataUserObject){
        var vDiscountNumber = parseInt(gDiscount, 10);
        var vPriceNumber = parseInt(paramDataUserObject.thanhTien);

        return vPriceNumber - (vDiscountNumber*vPriceNumber)/100;
        
    }


    function handleLoadOrderIdToModal(paramDataPost){
        $("#inp-modal-orderid").val(paramDataPost.orderId)

        $("#modal-confirm-data").modal("show");
    }

    


</script>

</html>